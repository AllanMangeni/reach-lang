<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-149147406-2"></script><script>window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-149147406-2');</script><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js"></script><script src="tooltips.js"></script><script src="reach-pre.js"></script><link rel="stylesheet" href="tooltips.css"><link rel="stylesheet" href="reach.css"><link rel="stylesheet" href="minted.css"><link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png"><link rel="manifest" href="/favicon/site.webmanifest"><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>2.8&nbsp;Interaction and Independence</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Reach:<span class="mywbr"> &nbsp;</span> The Safest and Easiest DApp Programming Language</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="overview.html" class="tocviewlink" data-pltdoc="x">Overview</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="tut.html" class="tocviewselflink" data-pltdoc="x">Tutorial</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="guide.html" class="tocviewlink" data-pltdoc="x">Guide</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="workshop.html" class="tocviewlink" data-pltdoc="x">Workshop</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="ref.html" class="tocviewlink" data-pltdoc="x">Reference</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" data-pltdoc="x">Index</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>2&nbsp;</td><td><a href="tut.html" class="tocviewlink" data-pltdoc="x">Tutorial</a></td></tr></table><div class="tocviewsublistbottom" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">2.1&nbsp;</td><td><a href="tut-1.html" class="tocviewlink" data-pltdoc="x">Install and Initialize</a></td></tr><tr><td align="right">2.2&nbsp;</td><td><a href="tut-2.html" class="tocviewlink" data-pltdoc="x">Scaffolding and Setup</a></td></tr><tr><td align="right">2.3&nbsp;</td><td><a href="tut-3.html" class="tocviewlink" data-pltdoc="x">Rock, Paper, and Scissors</a></td></tr><tr><td align="right">2.4&nbsp;</td><td><a href="tut-4.html" class="tocviewlink" data-pltdoc="x">Bets and Wagers</a></td></tr><tr><td align="right">2.5&nbsp;</td><td><a href="tut-5.html" class="tocviewlink" data-pltdoc="x">Trust and Commitments</a></td></tr><tr><td align="right">2.6&nbsp;</td><td><a href="tut-6.html" class="tocviewlink" data-pltdoc="x">Timeouts and Participation</a></td></tr><tr><td align="right">2.7&nbsp;</td><td><a href="tut-7.html" class="tocviewlink" data-pltdoc="x">Play and Play Again</a></td></tr><tr><td align="right">2.8&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Interaction and Independence</a></td></tr><tr><td align="right">2.9&nbsp;</td><td><a href="tut-9.html" class="tocviewlink" data-pltdoc="x">Web Interaction</a></td></tr><tr><td align="right">2.10&nbsp;</td><td><a href="tut-10.html" class="tocviewlink" data-pltdoc="x">Onward and Further</a></td></tr><tr><td align="right">2.11&nbsp;</td><td><a href="tut-7-rpc.html" class="tocviewlink" data-pltdoc="x">Rock, Paper, Scissors in Python</a></td></tr></table></div></div></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search docs..." title="Enter a search string to search the Reach documentation" onkeypress="return reach_DoSearch(event, this);"></form>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="tut-7.html" title="backward to &quot;2.7 Play and Play Again&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="tut.html" title="up to &quot;2 Tutorial&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="tut-9.html" title="forward to &quot;2.9 Web Interaction&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4>2.8<tt>&nbsp;</tt><a name="(part._tut-8)"></a>Interaction and Independence</h4><p>In the last section, we made our <span class="emph">Rock, Paper, Scissors!</span> run until there was a definitive winner.
In this section, we won&rsquo;t be making any changes to the Reach program itself.
Instead, we&rsquo;ll introduce customizations to the JavaScript <a href="ref-model.html#%28tech._frontend%29" class="techoutside" data-pltdoc="x"><span class="techinside">frontend</span></a> which facilitate interactivity and provide the option to connect to a real <a href="ref-model.html#%28tech._consensus._network%29" class="techoutside" data-pltdoc="x"><span class="techinside">consensus network</span></a>.</p><p><span style="font-weight: bold">&#8212;<wbr></wbr></span></p><p>We&rsquo;ll start from scratch and show every line of the program again.
You&rsquo;ll see a lot of similarity between this and the last version, but for completeness, we&rsquo;ll show every line.</p><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="boxed"><tr><td><p><a href="https://github.com/reach-sh/reach-lang/blob/master/examples/rps-8-interact/index.mjs#L1-L6"><span class="stt">rps-8-interact/index.mjs</span></a><button class="btn" data-clipboard-text="import { loadStdlib } from '@reach-sh/stdlib';
import * as backend from './build/index.main.mjs';
import { ask, yesno, done } from '@reach-sh/stdlib/ask.mjs';
const stdlib = loadStdlib(process.env);

(async () =&gt; {"><img class="clippy" width="13" src="clippy.svg" alt="Copy to clipboard"> </img></button>&nbsp;</p></td></tr></table></div><div class="SIntrapara"><div class="highlight"><pre><span></span> <span class="mf">1</span>    <font class="badlink"><span class="k">import</span></font> <span class="p">{</span> <a href="ref-frontends-js-loader_mjs.html#%28javascript._%28%28load.Stdlib%29%29%29" class="nx" data-pltdoc="x">loadStdlib</a> <span class="p">}</span> <font class="badlink"><span class="kr">from</span></font> <span class="s1">&#39;@reach-sh/stdlib&#39;</span><span class="p">;</span>
 <span class="mf">2</span>    <font class="badlink"><span class="k">import</span></font> <font class="badlink"><span class="o">*</span></font> <font class="badlink"><span class="kr">as</span></font> <a href="ref-backends-js.html#%28javascript._%28%28backend%29%29%29" class="nx" data-pltdoc="x">backend</a> <font class="badlink"><span class="kr">from</span></font> <span class="s1">&#39;./build/index.main.mjs&#39;</span><span class="p">;</span>
 <span class="mf">3</span>    <font class="badlink"><span class="k">import</span></font> <span class="p">{</span> <a href="ref-frontends-js-ask_mjs.html#%28javascript._%28%28ask%29%29%29" class="nx" data-pltdoc="x">ask</a><span class="p">,</span> <a href="ref-frontends-js-ask_mjs.html#%28javascript._%28%28yesno%29%29%29" class="nx" data-pltdoc="x">yesno</a><span class="p">,</span> <a href="ref-frontends-js-ask_mjs.html#%28javascript._%28%28done%29%29%29" class="nx" data-pltdoc="x">done</a> <span class="p">}</span> <font class="badlink"><span class="kr">from</span></font> <span class="s1">&#39;@reach-sh/stdlib/ask.mjs&#39;</span><span class="p">;</span>
 <span class="mf">4</span>    <font class="badlink"><span class="kd">const</span></font> <a href="ref-frontends-js.html#%28javascript._%28%28stdlib%29%29%29" class="nx" data-pltdoc="x">stdlib</a> <font class="badlink"><span class="o">=</span></font> <a href="ref-frontends-js-loader_mjs.html#%28javascript._%28%28load.Stdlib%29%29%29" class="nx" data-pltdoc="x">loadStdlib</a><span class="p">(</span><font class="badlink"><span class="nx">process</span></font><span class="p">.</span><font class="badlink"><span class="nx">env</span></font><span class="p">);</span>
 <span class="mf">5</span>    
 <span class="mf">6</span>    <span class="p">(</span><font class="badlink"><span class="k">async</span></font> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<span class="p">..</span>    <span class="c1">// ...</span>
</pre></div></div></p><ul><li><p>Lines 1, 2, and 4 are the same as before: importing the standard library and the backend.</p></li><li><p>Line 3 is new and imports a helpful library for simple console applications called <span class="stt">ask.mjs</span> from the Reach standard library.
We&rsquo;ll see how these three functions are used below.</p></li></ul><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="boxed"><tr><td><p><a href="https://github.com/reach-sh/reach-lang/blob/master/examples/rps-8-interact/index.mjs#L7-L12"><span class="stt">rps-8-interact/index.mjs</span></a><button class="btn" data-clipboard-text="  const isAlice = await ask(
    `Are you Alice?`,
    yesno
  );
  const who = isAlice ? 'Alice' : 'Bob';
"><img class="clippy" width="13" src="clippy.svg" alt="Copy to clipboard"> </img></button>&nbsp;</p></td></tr></table></div><div class="SIntrapara"><div class="highlight"><pre><span></span><span class="p">..</span>    <span class="c1">// ...</span>
 <span class="mf">7</span>    <font class="badlink"><span class="kd">const</span></font> <font class="badlink"><span class="nx">isAlice</span></font> <font class="badlink"><span class="o">=</span></font> <font class="badlink"><span class="k">await</span></font> <a href="ref-frontends-js-ask_mjs.html#%28javascript._%28%28ask%29%29%29" class="nx" data-pltdoc="x">ask</a><span class="p">(</span>
 <span class="mf">8</span>      <span class="sb">`Are you Alice?`</span><span class="p">,</span>
 <span class="mf">9</span>      <a href="ref-frontends-js-ask_mjs.html#%28javascript._%28%28yesno%29%29%29" class="nx" data-pltdoc="x">yesno</a>
<span class="mf">10</span>    <span class="p">);</span>
<span class="mf">11</span>    <font class="badlink"><span class="kd">const</span></font> <font class="badlink"><span class="nx">who</span></font> <font class="badlink"><span class="o">=</span></font> <font class="badlink"><span class="nx">isAlice</span></font> <font class="badlink"><span class="o">?</span></font> <span class="s1">&#39;Alice&#39;</span> <font class="badlink"><span class="o">:</span></font> <span class="s1">&#39;Bob&#39;</span><span class="p">;</span>
<span class="mf">12</span>    
<span class="p">..</span>    <span class="c1">// ...</span>
</pre></div></div></p><ul><li><p>Lines 7 through 10 ask the question whether they are playing as Alice and expect a "Yes" or "No" answer.
<code class="highlight"><a href="ref-frontends-js-ask_mjs.html#%28javascript._%28%28ask%29%29%29" class="nx" data-pltdoc="x">ask</a></code> presents a prompt and collects a line of input until its argument does not error.
<code class="highlight"><a href="ref-frontends-js-ask_mjs.html#%28javascript._%28%28yesno%29%29%29" class="nx" data-pltdoc="x">yesno</a></code> errors if it is not given "y" or "n".</p></li></ul><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="boxed"><tr><td><p><a href="https://github.com/reach-sh/reach-lang/blob/master/examples/rps-8-interact/index.mjs#L13-L29"><span class="stt">rps-8-interact/index.mjs</span></a><button class="btn" data-clipboard-text="  console.log(`Starting Rock, Paper, Scissors! as ${who}`);

  let acc = null;
  const createAcc = await ask(
    `Would you like to create an account? (only possible on devnet)`,
    yesno
  );
  if (createAcc) {
    acc = await stdlib.newTestAccount(stdlib.parseCurrency(1000));
  } else {
    const secret = await ask(
      `What is your account secret?`,
      (x =&gt; x)
    );
    acc = await stdlib.newAccountFromSecret(secret);
  }
"><img class="clippy" width="13" src="clippy.svg" alt="Copy to clipboard"> </img></button>&nbsp;</p></td></tr></table></div><div class="SIntrapara"><div class="highlight"><pre><span></span><span class="p">..</span>    <span class="c1">// ...</span>
<span class="mf">13</span>    <font class="badlink"><span class="nx">console</span></font><span class="p">.</span><font class="badlink"><span class="nx">log</span></font><span class="p">(</span><span class="sb">`Starting Rock, Paper, Scissors! as </span><span class="si">${</span><font class="badlink"><span class="nx">who</span></font><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="mf">14</span>    
<span class="mf">15</span>    <font class="badlink"><span class="kd">let</span></font> <font class="badlink"><span class="nx">acc</span></font> <font class="badlink"><span class="o">=</span></font> <font class="badlink"><span class="kc">null</span></font><span class="p">;</span>
<span class="mf">16</span>    <font class="badlink"><span class="kd">const</span></font> <font class="badlink"><span class="nx">createAcc</span></font> <font class="badlink"><span class="o">=</span></font> <font class="badlink"><span class="k">await</span></font> <a href="ref-frontends-js-ask_mjs.html#%28javascript._%28%28ask%29%29%29" class="nx" data-pltdoc="x">ask</a><span class="p">(</span>
<span class="mf">17</span>      <span class="sb">`Would you like to create an account? (only possible on devnet)`</span><span class="p">,</span>
<span class="mf">18</span>      <a href="ref-frontends-js-ask_mjs.html#%28javascript._%28%28yesno%29%29%29" class="nx" data-pltdoc="x">yesno</a>
<span class="mf">19</span>    <span class="p">);</span>
<span class="mf">20</span>    <font class="badlink"><span class="k">if</span></font> <span class="p">(</span><font class="badlink"><span class="nx">createAcc</span></font><span class="p">)</span> <span class="p">{</span>
<span class="mf">21</span>      <font class="badlink"><span class="nx">acc</span></font> <font class="badlink"><span class="o">=</span></font> <font class="badlink"><span class="k">await</span></font> <a href="ref-frontends-js.html#%28javascript._%28%28stdlib%29%29%29" class="nx" data-pltdoc="x">stdlib</a><span class="p">.</span><a href="ref-frontends-js-acc.html#%28javascript._%28%28new.Test.Account%29%29%29" class="nx" data-pltdoc="x">newTestAccount</a><span class="p">(</span><a href="ref-frontends-js.html#%28javascript._%28%28stdlib%29%29%29" class="nx" data-pltdoc="x">stdlib</a><span class="p">.</span><a href="ref-frontends-js-utils.html#%28javascript._%28%28parse.Currency%29%29%29" class="nx" data-pltdoc="x">parseCurrency</a><span class="p">(</span><span class="mf">1000</span><span class="p">));</span>
<span class="mf">22</span>    <span class="p">}</span> <font class="badlink"><span class="k">else</span></font> <span class="p">{</span>
<span class="mf">23</span>      <font class="badlink"><span class="kd">const</span></font> <font class="badlink"><span class="nx">secret</span></font> <font class="badlink"><span class="o">=</span></font> <font class="badlink"><span class="k">await</span></font> <a href="ref-frontends-js-ask_mjs.html#%28javascript._%28%28ask%29%29%29" class="nx" data-pltdoc="x">ask</a><span class="p">(</span>
<span class="mf">24</span>        <span class="sb">`What is your account secret?`</span><span class="p">,</span>
<span class="mf">25</span>        <span class="p">(</span><font class="badlink"><span class="nx">x</span></font> <span class="p">=&gt;</span> <font class="badlink"><span class="nx">x</span></font><span class="p">)</span>
<span class="mf">26</span>      <span class="p">);</span>
<span class="mf">27</span>      <font class="badlink"><span class="nx">acc</span></font> <font class="badlink"><span class="o">=</span></font> <font class="badlink"><span class="k">await</span></font> <a href="ref-frontends-js.html#%28javascript._%28%28stdlib%29%29%29" class="nx" data-pltdoc="x">stdlib</a><span class="p">.</span><a href="ref-frontends-js-acc.html#%28javascript._%28%28new.Account.From.Secret%29%29%29" class="nx" data-pltdoc="x">newAccountFromSecret</a><span class="p">(</span><font class="badlink"><span class="nx">secret</span></font><span class="p">);</span>
<span class="mf">28</span>    <span class="p">}</span>
<span class="mf">29</span>    
<span class="p">..</span>    <span class="c1">// ...</span>
</pre></div></div></p><ul><li><p>Lines 16 through 19 present the user with the choice of creating a test account if they can or inputting a secret to load an existing account.</p></li><li><p>Line 21 creates the test account as before.</p></li><li><p>Line 27 loads the existing account.</p></li></ul><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="boxed"><tr><td><p><a href="https://github.com/reach-sh/reach-lang/blob/master/examples/rps-8-interact/index.mjs#L30-L41"><span class="stt">rps-8-interact/index.mjs</span></a><button class="btn" data-clipboard-text="  let ctc = null;
  if (isAlice) {
    ctc = acc.contract(backend);
    ctc.getInfo().then((info) =&gt; {
      console.log(`The contract is deployed as = ${JSON.stringify(info)}`); });
  } else {
    const info = await ask(
      `Please paste the contract information:`,
      JSON.parse
    );
    ctc = acc.contract(backend, info);
  }"><img class="clippy" width="13" src="clippy.svg" alt="Copy to clipboard"> </img></button>&nbsp;</p></td></tr></table></div><div class="SIntrapara"><div class="highlight"><pre><span></span><span class="p">..</span>    <span class="c1">// ...</span>
<span class="mf">30</span>    <font class="badlink"><span class="kd">let</span></font> <font class="badlink"><span class="nx">ctc</span></font> <font class="badlink"><span class="o">=</span></font> <font class="badlink"><span class="kc">null</span></font><span class="p">;</span>
<span class="mf">31</span>    <font class="badlink"><span class="k">if</span></font> <span class="p">(</span><font class="badlink"><span class="nx">isAlice</span></font><span class="p">)</span> <span class="p">{</span>
<span class="mf">32</span>      <font class="badlink"><span class="nx">ctc</span></font> <font class="badlink"><span class="o">=</span></font> <font class="badlink"><span class="nx">acc</span></font><span class="p">.</span><a href="ref-frontends-js-ctc.html#%28javascript._%28%28contract%29%29%29" class="nx" data-pltdoc="x">contract</a><span class="p">(</span><a href="ref-backends-js.html#%28javascript._%28%28backend%29%29%29" class="nx" data-pltdoc="x">backend</a><span class="p">);</span>
<span class="mf">33</span>      <font class="badlink"><span class="nx">ctc</span></font><span class="p">.</span><a href="ref-frontends-js-ctc.html#%28javascript._%28%28get.Info%29%29%29" class="nx" data-pltdoc="x">getInfo</a><span class="p">().</span><font class="badlink"><span class="nx">then</span></font><span class="p">((</span><font class="badlink"><span class="nx">info</span></font><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
<span class="mf">34</span>        <font class="badlink"><span class="nx">console</span></font><span class="p">.</span><font class="badlink"><span class="nx">log</span></font><span class="p">(</span><span class="sb">`The contract is deployed as = </span><span class="si">${</span><font class="badlink"><span class="nb">JSON</span></font><span class="p">.</span><font class="badlink"><span class="nx">stringify</span></font><span class="p">(</span><font class="badlink"><span class="nx">info</span></font><span class="p">)</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span> <span class="p">});</span>
<span class="mf">35</span>    <span class="p">}</span> <font class="badlink"><span class="k">else</span></font> <span class="p">{</span>
<span class="mf">36</span>      <font class="badlink"><span class="kd">const</span></font> <font class="badlink"><span class="nx">info</span></font> <font class="badlink"><span class="o">=</span></font> <font class="badlink"><span class="k">await</span></font> <a href="ref-frontends-js-ask_mjs.html#%28javascript._%28%28ask%29%29%29" class="nx" data-pltdoc="x">ask</a><span class="p">(</span>
<span class="mf">37</span>        <span class="sb">`Please paste the contract information:`</span><span class="p">,</span>
<span class="mf">38</span>        <font class="badlink"><span class="nb">JSON</span></font><span class="p">.</span><font class="badlink"><span class="nx">parse</span></font>
<span class="mf">39</span>      <span class="p">);</span>
<span class="mf">40</span>      <font class="badlink"><span class="nx">ctc</span></font> <font class="badlink"><span class="o">=</span></font> <font class="badlink"><span class="nx">acc</span></font><span class="p">.</span><a href="ref-frontends-js-ctc.html#%28javascript._%28%28contract%29%29%29" class="nx" data-pltdoc="x">contract</a><span class="p">(</span><a href="ref-backends-js.html#%28javascript._%28%28backend%29%29%29" class="nx" data-pltdoc="x">backend</a><span class="p">,</span> <font class="badlink"><span class="nx">info</span></font><span class="p">);</span>
<span class="mf">41</span>    <span class="p">}</span>
<span class="p">..</span>    <span class="c1">// ...</span>
</pre></div></div></p><ul><li><p>Line 31 branches based on whether the player is running as Alice, who must deploy the contract, or Bob, who must attach to it.</p></li><li><p>Lines 32 through 34 deploy it and print out public information (<code class="highlight"><font class="badlink"><span class="nx">ctc</span></font><span class="p">.</span><a href="ref-frontends-js-ctc.html#%28javascript._%28%28get.Info%29%29%29" class="nx" data-pltdoc="x">getInfo</a></code>) that can be given to the other player when it becomes available.</p></li><li><p>Lines 36 through 41 request, parse, and process this information.</p></li></ul><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="boxed"><tr><td><p><a href="https://github.com/reach-sh/reach-lang/blob/master/examples/rps-8-interact/index.mjs#L43-L49"><span class="stt">rps-8-interact/index.mjs</span></a><button class="btn" data-clipboard-text="  const fmt = (x) =&gt; stdlib.formatCurrency(x, 4);
  const getBalance = async () =&gt; fmt(await stdlib.balanceOf(acc));

  const before = await getBalance();
  console.log(`Your balance is ${before}`);

  const interact = { ...stdlib.hasRandom };"><img class="clippy" width="13" src="clippy.svg" alt="Copy to clipboard"> </img></button>&nbsp;</p></td></tr></table></div><div class="SIntrapara"><div class="highlight"><pre><span></span><span class="p">..</span>    <span class="c1">// ...</span>
<span class="mf">43</span>    <font class="badlink"><span class="kd">const</span></font> <font class="badlink"><span class="nx">fmt</span></font> <font class="badlink"><span class="o">=</span></font> <span class="p">(</span><font class="badlink"><span class="nx">x</span></font><span class="p">)</span> <span class="p">=&gt;</span> <a href="ref-frontends-js.html#%28javascript._%28%28stdlib%29%29%29" class="nx" data-pltdoc="x">stdlib</a><span class="p">.</span><a href="ref-frontends-js-utils.html#%28javascript._%28%28format.Currency%29%29%29" class="nx" data-pltdoc="x">formatCurrency</a><span class="p">(</span><font class="badlink"><span class="nx">x</span></font><span class="p">,</span> <span class="mf">4</span><span class="p">);</span>
<span class="mf">44</span>    <font class="badlink"><span class="kd">const</span></font> <font class="badlink"><span class="nx">getBalance</span></font> <font class="badlink"><span class="o">=</span></font> <font class="badlink"><span class="k">async</span></font> <span class="p">()</span> <span class="p">=&gt;</span> <font class="badlink"><span class="nx">fmt</span></font><span class="p">(</span><font class="badlink"><span class="k">await</span></font> <a href="ref-frontends-js.html#%28javascript._%28%28stdlib%29%29%29" class="nx" data-pltdoc="x">stdlib</a><span class="p">.</span><a href="ref-frontends-js-acc.html#%28javascript._%28%28balance.Of%29%29%29" class="nx" data-pltdoc="x">balanceOf</a><span class="p">(</span><font class="badlink"><span class="nx">acc</span></font><span class="p">));</span>
<span class="mf">45</span>    
<span class="mf">46</span>    <font class="badlink"><span class="kd">const</span></font> <font class="badlink"><span class="nx">before</span></font> <font class="badlink"><span class="o">=</span></font> <font class="badlink"><span class="k">await</span></font> <font class="badlink"><span class="nx">getBalance</span></font><span class="p">();</span>
<span class="mf">47</span>    <font class="badlink"><span class="nx">console</span></font><span class="p">.</span><font class="badlink"><span class="nx">log</span></font><span class="p">(</span><span class="sb">`Your balance is </span><span class="si">${</span><font class="badlink"><span class="nx">before</span></font><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="mf">48</span>    
<span class="mf">49</span>    <font class="badlink"><span class="kd">const</span></font> <font class="badlink"><span class="nx">interact</span></font> <font class="badlink"><span class="o">=</span></font> <span class="p">{</span> <span class="p">...</span><a href="ref-frontends-js.html#%28javascript._%28%28stdlib%29%29%29" class="nx" data-pltdoc="x">stdlib</a><span class="p">.</span><font class="badlink"><span class="nx">hasRandom</span></font> <span class="p">};</span>
<span class="p">..</span>    <span class="c1">// ...</span>
</pre></div></div></p><p>Next we define a few helper functions and start the participant interaction interface.</p><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="boxed"><tr><td><p><a href="https://github.com/reach-sh/reach-lang/blob/master/examples/rps-8-interact/index.mjs#L51-L54"><span class="stt">rps-8-interact/index.mjs</span></a><button class="btn" data-clipboard-text="  interact.informTimeout = () =&gt; {
    console.log(`There was a timeout.`);
    process.exit(1);
  };"><img class="clippy" width="13" src="clippy.svg" alt="Copy to clipboard"> </img></button>&nbsp;</p></td></tr></table></div><div class="SIntrapara"><div class="highlight"><pre><span></span><span class="p">..</span>    <span class="c1">// ...</span>
<span class="mf">51</span>    <font class="badlink"><span class="nx">interact</span></font><span class="p">.</span><font class="badlink"><span class="nx">informTimeout</span></font> <font class="badlink"><span class="o">=</span></font> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<span class="mf">52</span>      <font class="badlink"><span class="nx">console</span></font><span class="p">.</span><font class="badlink"><span class="nx">log</span></font><span class="p">(</span><span class="sb">`There was a timeout.`</span><span class="p">);</span>
<span class="mf">53</span>      <font class="badlink"><span class="nx">process</span></font><span class="p">.</span><font class="badlink"><span class="nx">exit</span></font><span class="p">(</span><span class="mf">1</span><span class="p">);</span>
<span class="mf">54</span>    <span class="p">};</span>
<span class="p">..</span>    <span class="c1">// ...</span>
</pre></div></div></p><p>Then we define a timeout handler.</p><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="boxed"><tr><td><p><a href="https://github.com/reach-sh/reach-lang/blob/master/examples/rps-8-interact/index.mjs#L56-L73"><span class="stt">rps-8-interact/index.mjs</span></a><button class="btn" data-clipboard-text="  if (isAlice) {
    const amt = await ask(
      `How much do you want to wager?`,
      stdlib.parseCurrency
    );
    interact.wager = amt;
    interact.deadline = { ETH: 100, ALGO: 100, CFX: 1000 }[stdlib.connector];
  } else {
    interact.acceptWager = async (amt) =&gt; {
      const accepted = await ask(
        `Do you accept the wager of ${fmt(amt)}?`,
        yesno
      );
      if (!accepted) {
        process.exit(0);
      }
    };
  }"><img class="clippy" width="13" src="clippy.svg" alt="Copy to clipboard"> </img></button>&nbsp;</p></td></tr></table></div><div class="SIntrapara"><div class="highlight"><pre><span></span><span class="p">..</span>    <span class="c1">// ...</span>
<span class="mf">56</span>    <font class="badlink"><span class="k">if</span></font> <span class="p">(</span><font class="badlink"><span class="nx">isAlice</span></font><span class="p">)</span> <span class="p">{</span>
<span class="mf">57</span>      <font class="badlink"><span class="kd">const</span></font> <font class="badlink"><span class="nx">amt</span></font> <font class="badlink"><span class="o">=</span></font> <font class="badlink"><span class="k">await</span></font> <a href="ref-frontends-js-ask_mjs.html#%28javascript._%28%28ask%29%29%29" class="nx" data-pltdoc="x">ask</a><span class="p">(</span>
<span class="mf">58</span>        <span class="sb">`How much do you want to wager?`</span><span class="p">,</span>
<span class="mf">59</span>        <a href="ref-frontends-js.html#%28javascript._%28%28stdlib%29%29%29" class="nx" data-pltdoc="x">stdlib</a><span class="p">.</span><a href="ref-frontends-js-utils.html#%28javascript._%28%28parse.Currency%29%29%29" class="nx" data-pltdoc="x">parseCurrency</a>
<span class="mf">60</span>      <span class="p">);</span>
<span class="mf">61</span>      <font class="badlink"><span class="nx">interact</span></font><span class="p">.</span><font class="badlink"><span class="nx">wager</span></font> <font class="badlink"><span class="o">=</span></font> <font class="badlink"><span class="nx">amt</span></font><span class="p">;</span>
<span class="mf">62</span>      <font class="badlink"><span class="nx">interact</span></font><span class="p">.</span><font class="badlink"><span class="nx">deadline</span></font> <font class="badlink"><span class="o">=</span></font> <span class="p">{</span> <font class="badlink"><span class="nx">ETH</span></font><font class="badlink"><span class="o">:</span></font> <span class="mf">100</span><span class="p">,</span> <font class="badlink"><span class="nx">ALGO</span></font><font class="badlink"><span class="o">:</span></font> <span class="mf">100</span><span class="p">,</span> <font class="badlink"><span class="nx">CFX</span></font><font class="badlink"><span class="o">:</span></font> <span class="mf">1000</span> <span class="p">}[</span><a href="ref-frontends-js.html#%28javascript._%28%28stdlib%29%29%29" class="nx" data-pltdoc="x">stdlib</a><span class="p">.</span><a href="ref-frontends-js-network.html#%28javascript._%28%28connector%29%29%29" class="nx" data-pltdoc="x">connector</a><span class="p">];</span>
<span class="mf">63</span>    <span class="p">}</span> <font class="badlink"><span class="k">else</span></font> <span class="p">{</span>
<span class="mf">64</span>      <font class="badlink"><span class="nx">interact</span></font><span class="p">.</span><font class="badlink"><span class="nx">acceptWager</span></font> <font class="badlink"><span class="o">=</span></font> <font class="badlink"><span class="k">async</span></font> <span class="p">(</span><font class="badlink"><span class="nx">amt</span></font><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
<span class="mf">65</span>        <font class="badlink"><span class="kd">const</span></font> <font class="badlink"><span class="nx">accepted</span></font> <font class="badlink"><span class="o">=</span></font> <font class="badlink"><span class="k">await</span></font> <a href="ref-frontends-js-ask_mjs.html#%28javascript._%28%28ask%29%29%29" class="nx" data-pltdoc="x">ask</a><span class="p">(</span>
<span class="mf">66</span>          <span class="sb">`Do you accept the wager of </span><span class="si">${</span><font class="badlink"><span class="nx">fmt</span></font><span class="p">(</span><font class="badlink"><span class="nx">amt</span></font><span class="p">)</span><span class="si">}</span><span class="sb">?`</span><span class="p">,</span>
<span class="mf">67</span>          <a href="ref-frontends-js-ask_mjs.html#%28javascript._%28%28yesno%29%29%29" class="nx" data-pltdoc="x">yesno</a>
<span class="mf">68</span>        <span class="p">);</span>
<span class="mf">69</span>        <font class="badlink"><span class="k">if</span></font> <span class="p">(</span><font class="badlink"><span class="o">!</span></font><font class="badlink"><span class="nx">accepted</span></font><span class="p">)</span> <span class="p">{</span>
<span class="mf">70</span>          <font class="badlink"><span class="nx">process</span></font><span class="p">.</span><font class="badlink"><span class="nx">exit</span></font><span class="p">(</span><span class="mf">0</span><span class="p">);</span>
<span class="mf">71</span>        <span class="p">}</span>
<span class="mf">72</span>      <span class="p">};</span>
<span class="mf">73</span>    <span class="p">}</span>
<span class="p">..</span>    <span class="c1">// ...</span>
</pre></div></div></p><p>Next, we request the wager amount or define the <code class="highlight"><font class="badlink"><span class="nx">acceptWager</span></font></code> method, depending on if we are Alice or not.</p><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="boxed"><tr><td><p><a href="https://github.com/reach-sh/reach-lang/blob/master/examples/rps-8-interact/index.mjs#L75-L92"><span class="stt">rps-8-interact/index.mjs</span></a><button class="btn" data-clipboard-text="  const HAND = ['Rock', 'Paper', 'Scissors'];
  const HANDS = {
    'Rock': 0, 'R': 0, 'r': 0,
    'Paper': 1, 'P': 1, 'p': 1,
    'Scissors': 2, 'S': 2, 's': 2,
  };

  interact.getHand = async () =&gt; {
    const hand = await ask(`What hand will you play?`, (x) =&gt; {
      const hand = HANDS[x];
      if ( hand == null ) {
        throw Error(`Not a valid hand ${hand}`);
      }
      return hand;
    });
    console.log(`You played ${HAND[hand]}`);
    return hand;
  };"><img class="clippy" width="13" src="clippy.svg" alt="Copy to clipboard"> </img></button>&nbsp;</p></td></tr></table></div><div class="SIntrapara"><div class="highlight"><pre><span></span><span class="p">..</span>    <span class="c1">// ...</span>
<span class="mf">75</span>    <font class="badlink"><span class="kd">const</span></font> <font class="badlink"><span class="nx">HAND</span></font> <font class="badlink"><span class="o">=</span></font> <span class="p">[</span><span class="s1">&#39;Rock&#39;</span><span class="p">,</span> <span class="s1">&#39;Paper&#39;</span><span class="p">,</span> <span class="s1">&#39;Scissors&#39;</span><span class="p">];</span>
<span class="mf">76</span>    <font class="badlink"><span class="kd">const</span></font> <font class="badlink"><span class="nx">HANDS</span></font> <font class="badlink"><span class="o">=</span></font> <span class="p">{</span>
<span class="mf">77</span>      <span class="s1">&#39;Rock&#39;</span><font class="badlink"><span class="o">:</span></font> <span class="mf">0</span><span class="p">,</span> <span class="s1">&#39;R&#39;</span><font class="badlink"><span class="o">:</span></font> <span class="mf">0</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><font class="badlink"><span class="o">:</span></font> <span class="mf">0</span><span class="p">,</span>
<span class="mf">78</span>      <span class="s1">&#39;Paper&#39;</span><font class="badlink"><span class="o">:</span></font> <span class="mf">1</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><font class="badlink"><span class="o">:</span></font> <span class="mf">1</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><font class="badlink"><span class="o">:</span></font> <span class="mf">1</span><span class="p">,</span>
<span class="mf">79</span>      <span class="s1">&#39;Scissors&#39;</span><font class="badlink"><span class="o">:</span></font> <span class="mf">2</span><span class="p">,</span> <span class="s1">&#39;S&#39;</span><font class="badlink"><span class="o">:</span></font> <span class="mf">2</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><font class="badlink"><span class="o">:</span></font> <span class="mf">2</span><span class="p">,</span>
<span class="mf">80</span>    <span class="p">};</span>
<span class="mf">81</span>    
<span class="mf">82</span>    <font class="badlink"><span class="nx">interact</span></font><span class="p">.</span><font class="badlink"><span class="nx">getHand</span></font> <font class="badlink"><span class="o">=</span></font> <font class="badlink"><span class="k">async</span></font> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<span class="mf">83</span>      <font class="badlink"><span class="kd">const</span></font> <font class="badlink"><span class="nx">hand</span></font> <font class="badlink"><span class="o">=</span></font> <font class="badlink"><span class="k">await</span></font> <a href="ref-frontends-js-ask_mjs.html#%28javascript._%28%28ask%29%29%29" class="nx" data-pltdoc="x">ask</a><span class="p">(</span><span class="sb">`What hand will you play?`</span><span class="p">,</span> <span class="p">(</span><font class="badlink"><span class="nx">x</span></font><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
<span class="mf">84</span>        <font class="badlink"><span class="kd">const</span></font> <font class="badlink"><span class="nx">hand</span></font> <font class="badlink"><span class="o">=</span></font> <font class="badlink"><span class="nx">HANDS</span></font><span class="p">[</span><font class="badlink"><span class="nx">x</span></font><span class="p">];</span>
<span class="mf">85</span>        <font class="badlink"><span class="k">if</span></font> <span class="p">(</span> <font class="badlink"><span class="nx">hand</span></font> <font class="badlink"><span class="o">==</span></font> <font class="badlink"><span class="kc">null</span></font> <span class="p">)</span> <span class="p">{</span>
<span class="mf">86</span>          <font class="badlink"><span class="k">throw</span></font> <span class="ne">Error</span><span class="p">(</span><span class="sb">`Not a valid hand </span><span class="si">${</span><font class="badlink"><span class="nx">hand</span></font><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="mf">87</span>        <span class="p">}</span>
<span class="mf">88</span>        <font class="badlink"><span class="k">return</span></font> <font class="badlink"><span class="nx">hand</span></font><span class="p">;</span>
<span class="mf">89</span>      <span class="p">});</span>
<span class="mf">90</span>      <font class="badlink"><span class="nx">console</span></font><span class="p">.</span><font class="badlink"><span class="nx">log</span></font><span class="p">(</span><span class="sb">`You played </span><span class="si">${</span><font class="badlink"><span class="nx">HAND</span></font><span class="p">[</span><font class="badlink"><span class="nx">hand</span></font><span class="p">]</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="mf">91</span>      <font class="badlink"><span class="k">return</span></font> <font class="badlink"><span class="nx">hand</span></font><span class="p">;</span>
<span class="mf">92</span>    <span class="p">};</span>
<span class="p">..</span>    <span class="c1">// ...</span>
</pre></div></div></p><p>Next, we define the shared <code class="highlight"><font class="badlink"><span class="nx">getHand</span></font></code> method.</p><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="boxed"><tr><td><p><a href="https://github.com/reach-sh/reach-lang/blob/master/examples/rps-8-interact/index.mjs#L94-L97"><span class="stt">rps-8-interact/index.mjs</span></a><button class="btn" data-clipboard-text="  const OUTCOME = ['Bob wins', 'Draw', 'Alice wins'];
  interact.seeOutcome = async (outcome) =&gt; {
    console.log(`The outcome is: ${OUTCOME[outcome]}`);
  };"><img class="clippy" width="13" src="clippy.svg" alt="Copy to clipboard"> </img></button>&nbsp;</p></td></tr></table></div><div class="SIntrapara"><div class="highlight"><pre><span></span><span class="p">..</span>    <span class="c1">// ...</span>
<span class="mf">94</span>    <font class="badlink"><span class="kd">const</span></font> <font class="badlink"><span class="nx">OUTCOME</span></font> <font class="badlink"><span class="o">=</span></font> <span class="p">[</span><span class="s1">&#39;Bob wins&#39;</span><span class="p">,</span> <span class="s1">&#39;Draw&#39;</span><span class="p">,</span> <span class="s1">&#39;Alice wins&#39;</span><span class="p">];</span>
<span class="mf">95</span>    <font class="badlink"><span class="nx">interact</span></font><span class="p">.</span><font class="badlink"><span class="nx">seeOutcome</span></font> <font class="badlink"><span class="o">=</span></font> <font class="badlink"><span class="k">async</span></font> <span class="p">(</span><font class="badlink"><span class="nx">outcome</span></font><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
<span class="mf">96</span>      <font class="badlink"><span class="nx">console</span></font><span class="p">.</span><font class="badlink"><span class="nx">log</span></font><span class="p">(</span><span class="sb">`The outcome is: </span><span class="si">${</span><font class="badlink"><span class="nx">OUTCOME</span></font><span class="p">[</span><font class="badlink"><span class="nx">outcome</span></font><span class="p">]</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="mf">97</span>    <span class="p">};</span>
<span class="p">..</span>    <span class="c1">// ...</span>
</pre></div></div></p><p>Finally, the <code class="highlight"><font class="badlink"><span class="nx">seeOutcome</span></font></code> method.</p><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="boxed"><tr><td><p><a href="https://github.com/reach-sh/reach-lang/blob/master/examples/rps-8-interact/index.mjs#L99-L106"><span class="stt">rps-8-interact/index.mjs</span></a><button class="btn" data-clipboard-text="  const part = isAlice ? ctc.p.Alice : ctc.p.Bob;
  await part(interact);

  const after = await getBalance();
  console.log(`Your balance is now ${after}`);

  done();
})();"><img class="clippy" width="13" src="clippy.svg" alt="Copy to clipboard"> </img></button>&nbsp;</p></td></tr></table></div><div class="SIntrapara"><div class="highlight"><pre><span></span><span class="p">..</span>    <span class="c1">// ...</span>
<span class="mf">99</span>    <font class="badlink"><span class="kd">const</span></font> <font class="badlink"><span class="nx">part</span></font> <font class="badlink"><span class="o">=</span></font> <font class="badlink"><span class="nx">isAlice</span></font> <font class="badlink"><span class="o">?</span></font> <font class="badlink"><span class="nx">ctc</span></font><span class="p">.</span><font class="badlink"><span class="nx">p</span></font><span class="p">.</span><font class="badlink"><span class="nx">Alice</span></font> <font class="badlink"><span class="o">:</span></font> <font class="badlink"><span class="nx">ctc</span></font><span class="p">.</span><font class="badlink"><span class="nx">p</span></font><span class="p">.</span><font class="badlink"><span class="nx">Bob</span></font><span class="p">;</span>
<span class="mf">100</span>    <font class="badlink"><span class="k">await</span></font> <font class="badlink"><span class="nx">part</span></font><span class="p">(</span><font class="badlink"><span class="nx">interact</span></font><span class="p">);</span>
<span class="mf">101</span>    
<span class="mf">102</span>    <font class="badlink"><span class="kd">const</span></font> <font class="badlink"><span class="nx">after</span></font> <font class="badlink"><span class="o">=</span></font> <font class="badlink"><span class="k">await</span></font> <font class="badlink"><span class="nx">getBalance</span></font><span class="p">();</span>
<span class="mf">103</span>    <font class="badlink"><span class="nx">console</span></font><span class="p">.</span><font class="badlink"><span class="nx">log</span></font><span class="p">(</span><span class="sb">`Your balance is now </span><span class="si">${</span><font class="badlink"><span class="nx">after</span></font><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="mf">104</span>    
<span class="mf">105</span>    <a href="ref-frontends-js-ask_mjs.html#%28javascript._%28%28done%29%29%29" class="nx" data-pltdoc="x">done</a><span class="p">();</span>
<span class="mf">106</span>    <span class="p">})();</span>
</pre></div></div></p><p>Lastly, we choose the appropriate backend function and await its completion.</p><p><span style="font-weight: bold">&#8212;<wbr></wbr></span></p><p>We can now run</p><p><span class="hspace">&nbsp;&nbsp;</span><span style="font-weight: bold"><span class="stt">$</span></span><span class="stt"> </span><span class="stt">./reach run</span></p><p>in one terminal in this directory to play as Alice and</p><p><span class="hspace">&nbsp;&nbsp;</span><span style="font-weight: bold"><span class="stt">$</span></span><span class="stt"> </span><span class="stt">./reach run</span></p><p>in another terminal in this directory to play as Bob.</p><p>Here&rsquo;s an example run:</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">$ ./reach run</span></p></td></tr><tr><td><p><span class="stt">Are you Alice?</span></p></td></tr><tr><td><p><span class="stt">y</span></p></td></tr><tr><td><p><span class="stt">Starting Rock, Paper, Scissors as Alice</span></p></td></tr><tr><td><p><span class="stt">Would you like to create an account? (only possible on devnet)</span></p></td></tr><tr><td><p><span class="stt">y</span></p></td></tr><tr><td><p><span class="stt">Your balance is 999.9999</span></p></td></tr><tr><td><p><span class="stt">How much do you want to wager?</span></p></td></tr><tr><td><p><span class="stt">10</span></p></td></tr><tr><td><p><span class="stt">The contract is deployed as = "0x132b724e55AEb074C15A5CBb7b8EeE0dBEd45F7b"</span></p></td></tr><tr><td><p><span class="stt">What hand will you play?</span></p></td></tr><tr><td><p><span class="stt">r</span></p></td></tr><tr><td><p><span class="stt">You played Rock</span></p></td></tr><tr><td><p><span class="stt">The outcome is: Bob wins</span></p></td></tr><tr><td><p><span class="stt">Your balance is now 989.9999</span></p></td></tr></table></p><p>and</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">$ ./reach run</span></p></td></tr><tr><td><p><span class="stt">Are you Alice?</span></p></td></tr><tr><td><p><span class="stt">n</span></p></td></tr><tr><td><p><span class="stt">Starting Rock, Paper, Scissors as Bob</span></p></td></tr><tr><td><p><span class="stt">Would you like to create an account? (only possible on devnet)</span></p></td></tr><tr><td><p><span class="stt">y</span></p></td></tr><tr><td><p><span class="stt">Please paste the contract information:</span></p></td></tr><tr><td><p><span class="stt">"0x132b724e55AEb074C15A5CBb7b8EeE0dBEd45F7b"</span></p></td></tr><tr><td><p><span class="stt">Your balance is 1000</span></p></td></tr><tr><td><p><span class="stt">Do you accept the wager of 10?</span></p></td></tr><tr><td><p><span class="stt">y</span></p></td></tr><tr><td><p><span class="stt">What hand will you play?</span></p></td></tr><tr><td><p><span class="stt">p</span></p></td></tr><tr><td><p><span class="stt">You played Paper</span></p></td></tr><tr><td><p><span class="stt">The outcome is: Bob wins</span></p></td></tr><tr><td><p><span class="stt">Your balance is now 1009.9999</span></p></td></tr></table></p><p>Of course, when you run the exact amounts and addresses may be different.</p><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>If your version isn&rsquo;t working, compare with <a href="https://github.com/reach-sh/reach-lang/blob/master/examples/rps-8-interact/index.rsh"><span class="stt">rps-8-interact/index.rsh</span></a> and <a href="https://github.com/reach-sh/reach-lang/blob/master/examples/rps-8-interact/index.mjs"><span class="stt">rps-8-interact/index.mjs</span></a> to ensure you&rsquo;ve copied everything down correctly!</p></blockquote></blockquote></blockquote><p><div class="SIntrapara">If we were to instead run
</div><div class="SIntrapara"><span class="hspace">&nbsp;&nbsp;</span><span style="font-weight: bold"><span class="stt">$</span></span><span class="stt"> </span><span class="stt">REACH_CONNECTOR_MODE=ALGO-devnet ./reach run</span></div><div class="SIntrapara">in two terminals we&rsquo;d see equivalent output from running our application on a private Algorand devnet.</div></p><p><div class="SIntrapara">Connecting to live <a href="ref-model.html#%28tech._consensus._network%29" class="techoutside" data-pltdoc="x"><span class="techinside">consensus networks</span></a> is similarly easy:
</div><div class="SIntrapara"><span class="hspace">&nbsp;&nbsp;</span><span style="font-weight: bold"><span class="stt">$</span></span><span class="stt"> </span><span class="stt">REACH_CONNECTOR_MODE=ETH-live ETH_NODE_URI="http://some.node.fqdn:8545" ./reach run</span></div></p><p><span style="font-weight: bold">&#8212;<wbr></wbr></span></p><p>Now our implementation of <span class="emph">Rock, Paper, Scissors!</span> is finished!
We are protected against attacks, timeouts, and draws, and we can run interactively on non-test networks.</p><p>In this step, we made a command-line interface for our Reach program.
In <a href="tut-9.html" data-pltdoc="x">the next step</a>, we&rsquo;ll replace this with a Web interface for the same Reach program.</p><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p><div class="SIntrapara">Check your understanding: True or false: Reach helps you build automated tests for your decentralized application, but it doesn&#8217;t support building interactive user-interfaces. </div><div class="SIntrapara"><blockquote class="check-answer"><p><div class="SIntrapara">Answer: </div><div class="SIntrapara"><p class="check-answer-body">False; Reach does not impose any constraints on what kind of frontend is attached to your Reach application.</p></div></p></blockquote></div></p></blockquote></blockquote></blockquote><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search docs..." title="Enter a search string to search the Reach documentation" onkeypress="return reach_DoSearch(event, this);"></form>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="tut-7.html" title="backward to &quot;2.7 Play and Play Again&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="tut.html" title="up to &quot;2 Tutorial&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="tut-9.html" title="forward to &quot;2.9 Web Interaction&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div><script src="reach-post.js"></script></body></html>