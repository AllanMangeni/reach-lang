<div class="note">
  <p><i id="p_0" class="pid"></i>This frontend library relies on the <a href="/rpc/#ref-backends-rpc">Reach RPC Server</a>.<a href="#p_0" class="pid">0</a></p>
</div>
<p>
  <i id="p_1" class="pid"></i>A <a href="https://www.javascript.com">JavaScript</a> client library for the
  <a href="/rpc/#ref-backends-rpc">Reach RPC protocol</a> may be installed by running:<a href="#p_1" class="pid">1</a>
</p>
<pre class="snippet unnumbered"><div class="codeHeader">&nbsp;<a class="far fa-copy copyBtn" data-clipboard-text="$ npm install --save @reach-sh/rpc-client" href="#"></a></div><ol class="snippet"><li value="1">$ npm install --save @reach-sh/rpc-client</li></ol></pre>
<p>
  <i id="p_2" class="pid"></i>Once installed, add the following import line to your JavaScript file which will
  connect to the <a href="/rpc/#ref-backends-rpc">RPC server</a>:<a href="#p_2" class="pid">2</a>
</p>
<pre class="snippet unnumbered"><div class="codeHeader">&nbsp;<a class="far fa-copy copyBtn" data-clipboard-text="import { mkRPC } from '@reach-sh/rpc-client';" href="#"></a></div><ol class="snippet"><li value="1"><span style="color: #CF222E">import</span><span style="color: #24292F"> { mkRPC } </span><span style="color: #CF222E">from</span><span style="color: #24292F"> </span><span style="color: #0A3069">'@reach-sh/rpc-client'</span><span style="color: #24292F">;</span></li></ol></pre>
<p><i id="p_3" class="pid"></i>The library provides the following bindings:<a href="#p_3" class="pid">3</a></p>
<hr>
<p><span class="ref" id="js_mkRPC" data-scope="js" data-symbol="mkRPC"></span></p>
<pre class="snippet unnumbered"><div class="codeHeader">&nbsp;<a class="far fa-copy copyBtn" data-clipboard-text="const { rpc, rpcCallbacks } = await mkRPC(opts);" href="#"></a></div><ol class="snippet"><li value="1"><span style="color: #CF222E">const</span><span style="color: #24292F"> { </span><span style="color: #0550AE">rpc</span><span style="color: #24292F">, </span><span style="color: #0550AE">rpcCallbacks</span><span style="color: #24292F"> } </span><span style="color: #CF222E">=</span><span style="color: #24292F"> </span><span style="color: #CF222E">await</span><span style="color: #24292F"> </span><span style="color: #8250DF">mkRPC</span><span style="color: #24292F">(opts);</span></li></ol></pre>
<p><i id="p_4" class="pid"></i><span class="snip"><span style="color: #24292F">mkRPC</span></span> accepts the <a href="/rpc/#ref-backends-rpc-opts">Reach RPC Client Standard Options</a> as an object and returns a Promise of an object with two fields, <span class="snip"><span style="color: #24292F">rpc</span></span> and <span class="snip"><span style="color: #24292F">rpcCallbacks</span></span>.<a href="#p_4" class="pid">4</a></p>
<p>
  <i id="p_5" class="pid"></i><span class="ref" id="js_rpc" data-scope="js" data-symbol="rpc"></span><span class="snip"><span style="color: #24292F">rpc</span></span> is a function that invokes a synchronous value RPC method.
  It takes a string, naming the RPC method, and some JSON values to provide as arguments.
  It returns a Promise of a single JSON value as the result.<a href="#p_5" class="pid">5</a>
</p>
<p><i id="p_6" class="pid"></i>For example,<a href="#p_6" class="pid">6</a></p>
<pre class="snippet unnumbered"><div class="codeHeader">&nbsp;<a class="far fa-copy copyBtn" data-clipboard-text="await rpc(`/stdlib/formatCurrency`, i, 4);" href="#"></a></div><ol class="snippet"><li value="1"><span style="color: #CF222E">await</span><span style="color: #24292F"> </span><span style="color: #8250DF">rpc</span><span style="color: #24292F">(</span><span style="color: #0A3069">`/stdlib/formatCurrency`</span><span style="color: #24292F">, i, </span><span style="color: #0550AE">4</span><span style="color: #24292F">);</span></li></ol></pre>
<p><i id="p_7" class="pid"></i>calls <span class="snip"><span style="color: #24292F">formatCurrency</span></span> with some value <span class="snip"><span style="color: #24292F">i</span></span> and <span class="snip"><span style="color: #0550AE">4</span></span>.<a href="#p_7" class="pid">7</a></p>
<p>
  <i id="p_8" class="pid"></i><span class="ref" id="js_rpcCallbacks" data-scope="js" data-symbol="rpcCallbacks"></span><span class="snip"><span style="color: #24292F">rpcCallbacks</span></span> is a function that invokes an interactive RPC method, such as for a backend.
  It takes a string, naming the RPC method, a JSON value as an argument, and dictionary from strings to JSON values or <span class="snip"><span style="color: #24292F">async</span></span> functions.
  The functions will be provided as interactive RPC callbacks to the RPC method and should expect JSON values as arguments and return a Promise of a JSON value as a result.
  It returns a Promise that does not contain a value.<a href="#p_8" class="pid">8</a>
</p>
<p><i id="p_9" class="pid"></i>For example,<a href="#p_9" class="pid">9</a></p>
<pre class="snippet numbered"><div class="codeHeader">&nbsp;<a class="far fa-copy copyBtn" data-clipboard-text="const showX = async (xo) => {
  const x = await rpc(`/stdlib/bigNumberToNumber`, xo);
  console.log(`Alice saw that X is ${x}`);
};
const ms = {
  'price': 10,
  'showX': showX,
};
await rpcCallbacks(`/backend/Alice`, ctc, ms)" href="#"></a></div><ol class="snippet"><li value="1"><span style="color: #CF222E">const</span><span style="color: #24292F"> </span><span style="color: #8250DF">showX</span><span style="color: #24292F"> </span><span style="color: #CF222E">=</span><span style="color: #24292F"> </span><span style="color: #CF222E">async</span><span style="color: #24292F"> (</span><span style="color: #953800">xo</span><span style="color: #24292F">) </span><span style="color: #CF222E">=&gt;</span><span style="color: #24292F"> {</span></li><li value="2"><span style="color: #24292F">  </span><span style="color: #CF222E">const</span><span style="color: #24292F"> </span><span style="color: #0550AE">x</span><span style="color: #24292F"> </span><span style="color: #CF222E">=</span><span style="color: #24292F"> </span><span style="color: #CF222E">await</span><span style="color: #24292F"> </span><span style="color: #8250DF">rpc</span><span style="color: #24292F">(</span><span style="color: #0A3069">`/stdlib/bigNumberToNumber`</span><span style="color: #24292F">, xo);</span></li><li value="3"><span style="color: #24292F">  console.</span><span style="color: #8250DF">log</span><span style="color: #24292F">(</span><span style="color: #0A3069">`Alice saw that X is ${</span><span style="color: #24292F">x</span><span style="color: #0A3069">}`</span><span style="color: #24292F">);</span></li><li value="4"><span style="color: #24292F">};</span></li><li value="5"><span style="color: #CF222E">const</span><span style="color: #24292F"> </span><span style="color: #0550AE">ms</span><span style="color: #24292F"> </span><span style="color: #CF222E">=</span><span style="color: #24292F"> {</span></li><li value="6"><span style="color: #24292F">  </span><span style="color: #0A3069">'price'</span><span style="color: #24292F">: </span><span style="color: #0550AE">10</span><span style="color: #24292F">,</span></li><li value="7"><span style="color: #24292F">  </span><span style="color: #0A3069">'showX'</span><span style="color: #24292F">: showX,</span></li><li value="8"><span style="color: #24292F">};</span></li><li value="9"><span style="color: #CF222E">await</span><span style="color: #24292F"> </span><span style="color: #8250DF">rpcCallbacks</span><span style="color: #24292F">(</span><span style="color: #0A3069">`/backend/Alice`</span><span style="color: #24292F">, ctc, ms)</span></li></ol></pre>
<p><i id="p_10" class="pid"></i>calls a backend named <code>Alice</code> with the contract <span class="snip"><span style="color: #24292F">ctc</span></span> and a value named <code>price</code> and a method named <code>showX</code> that prints out a result from the Reach backend.<a href="#p_10" class="pid">10</a></p>