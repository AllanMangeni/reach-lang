<p>
  <i id="p_0" class="pid"></i>A Reach <span class="term" id="term_source%20file">source file</span> is a textual file which specifies a Reach module.
  It is traditionally given the file extension <code>rsh</code>,
  e.g. <code>dao.rsh</code>.<a href="#p_0" class="pid">0</a>
</p>
<p>
  <i id="p_1" class="pid"></i>A <span class="term" id="term_module">module</span> starts with <span class="snip"><span style="color: #0A3069">'reach 0.1'</span><span style="color: #24292F">;</span></span>
  followed by a sequence of imports and identifier definitions.<a href="#p_1" class="pid">1</a>
</p>
<div class="note">
  <p><i id="p_2" class="pid"></i>See <a href="/guide/versions/#guide-versions">the guide section on versions</a> to understand how Reach uses version numbers like this.<a href="#p_2" class="pid">2</a></p>
</div>
<h2 id="ref-programs-module-stmts" class="refHeader">Statements<a aria-hidden="true" tabindex="-1" href="#ref-programs-module-stmts"><span class="icon icon-link"></span></a></h2>
<p>
  <i id="p_3" class="pid"></i>Any statements valid for a <a href="/rsh/compute/#ref-programs-compute-stmts">computation</a> are valid for a module.
  However, some additional statements are allowed.<a href="#p_3" class="pid">3</a>
</p>
<h3 id="ref-programs-export" class="refHeader"><code>export</code><a aria-hidden="true" tabindex="-1" href="#ref-programs-export"><span class="icon icon-link"></span></a></h3>
<p>
  <i id="p_4" class="pid"></i>Module-level identifier definitions may be <span class="term" id="term_export">export</span>ed
  by writing <span class="ref" id="rsh_export" data-scope="rsh" data-symbol="export"></span><span class="snip"><span style="color: #CF222E">export</span></span> in front of them.
  For example,<a href="#p_4" class="pid">4</a>
</p>
<pre class="snippet numbered"><div class="codeHeader">&nbsp;<a class="far fa-copy copyBtn" data-clipboard-text="export const x = 1;
export const [a, b, ...more] = [ 0, 1, 2, 3, 4 ];
export function add1(x) { return x + 1; };" href="#"></a></div><ol class="snippet"><li value="1"><span style="color: #CF222E">export</span><span style="color: #24292F"> </span><span style="color: #CF222E">const</span><span style="color: #24292F"> </span><span style="color: #0550AE">x</span><span style="color: #24292F"> </span><span style="color: #CF222E">=</span><span style="color: #24292F"> </span><span style="color: #0550AE">1</span><span style="color: #24292F">;</span></li><li value="2"><span style="color: #CF222E">export</span><span style="color: #24292F"> </span><span style="color: #CF222E">const</span><span style="color: #24292F"> [</span><span style="color: #0550AE">a</span><span style="color: #24292F">, </span><span style="color: #0550AE">b</span><span style="color: #24292F">, </span><span style="color: #CF222E">...</span><span style="color: #0550AE">more</span><span style="color: #24292F">] </span><span style="color: #CF222E">=</span><span style="color: #24292F"> [ </span><span style="color: #0550AE">0</span><span style="color: #24292F">, </span><span style="color: #0550AE">1</span><span style="color: #24292F">, </span><span style="color: #0550AE">2</span><span style="color: #24292F">, </span><span style="color: #0550AE">3</span><span style="color: #24292F">, </span><span style="color: #0550AE">4</span><span style="color: #24292F"> ];</span></li><li value="3"><span style="color: #CF222E">export</span><span style="color: #24292F"> </span><span style="color: #CF222E">function</span><span style="color: #24292F"> </span><span style="color: #8250DF">add1</span><span style="color: #24292F">(</span><span style="color: #953800">x</span><span style="color: #24292F">) { </span><span style="color: #CF222E">return</span><span style="color: #24292F"> x </span><span style="color: #CF222E">+</span><span style="color: #24292F"> </span><span style="color: #0550AE">1</span><span style="color: #24292F">; };</span></li></ol></pre>
<p><i id="p_5" class="pid"></i>are valid exports.<a href="#p_5" class="pid">5</a></p>
<p>
  <i id="p_6" class="pid"></i>Module-level identifiers may also be exported after the fact,
  and may be renamed during export. For example:<a href="#p_6" class="pid">6</a>
</p>
<pre class="snippet numbered"><div class="codeHeader">&nbsp;<a class="far fa-copy copyBtn" data-clipboard-text="const w = 2;
const z = 0;
export {w, z as zero};" href="#"></a></div><ol class="snippet"><li value="1"><span style="color: #CF222E">const</span><span style="color: #24292F"> </span><span style="color: #0550AE">w</span><span style="color: #24292F"> </span><span style="color: #CF222E">=</span><span style="color: #24292F"> </span><span style="color: #0550AE">2</span><span style="color: #24292F">;</span></li><li value="2"><span style="color: #CF222E">const</span><span style="color: #24292F"> </span><span style="color: #0550AE">z</span><span style="color: #24292F"> </span><span style="color: #CF222E">=</span><span style="color: #24292F"> </span><span style="color: #0550AE">0</span><span style="color: #24292F">;</span></li><li value="3"><span style="color: #CF222E">export</span><span style="color: #24292F"> {w, z </span><span style="color: #CF222E">as</span><span style="color: #24292F"> zero};</span></li></ol></pre>
<p>
  <i id="p_7" class="pid"></i>Identifiers from other modules may be re-exported (and renamed),
  even if they are not imported in the current module.
  For example:<a href="#p_7" class="pid">7</a>
</p>
<pre class="snippet unnumbered"><div class="codeHeader">&nbsp;<a class="far fa-copy copyBtn" data-clipboard-text="export {u, x as other_x} from './other-module.rsh';" href="#"></a></div><ol class="snippet"><li value="1"><span style="color: #CF222E">export</span><span style="color: #24292F"> {u, x </span><span style="color: #CF222E">as</span><span style="color: #24292F"> other_x} </span><span style="color: #CF222E">from</span><span style="color: #24292F"> </span><span style="color: #0A3069">'./other-module.rsh'</span><span style="color: #24292F">;</span></li></ol></pre>
<p><i id="p_8" class="pid"></i>An exported identifier in a given module may be imported by other modules.<a href="#p_8" class="pid">8</a></p>
<p>
  <i id="p_9" class="pid"></i>Exports are also exposed to the frontend via <span class="snip"><span style="color: #24292F">getExports</span></span>. Functions are only exposed
  if they are typed, that is, if they are constructed with <span class="snip"><span style="color: #24292F">is</span></span>.<a href="#p_9" class="pid">9</a>
</p>
<h3 id="ref-programs-import" class="refHeader"><code>import</code><a aria-hidden="true" tabindex="-1" href="#ref-programs-import"><span class="icon icon-link"></span></a></h3>
<p>
  <i id="p_10" class="pid"></i><span class="ref" id="rsh_import" data-scope="rsh" data-symbol="import"></span>Reach supports two types of module <span class="term" id="term_imports">imports</span>: local imports,
  which refer to modules that exist within your project, and
  package imports, which refer to remote libraries that may be fetched
  from external sources such as <a href="https://github.com">GitHub</a>.<a href="#p_10" class="pid">10</a>
</p>
<div class="note">
  <p><i id="p_11" class="pid"></i>Read <a href="/guide/packages/#guide-packages">the guide section on packages</a> for more details.<a href="#p_11" class="pid">11</a></p>
</div>
<p>
  <i id="p_12" class="pid"></i>Package imports are easily distinguished from local imports by a
  mandatory <code>@</code> character at the beginning of the path string.<a href="#p_12" class="pid">12</a>
</p>
<h4 id="ref-programs-import-local" class="refHeader">Local imports<a aria-hidden="true" tabindex="-1" href="#ref-programs-import-local"><span class="icon icon-link"></span></a></h4>
<pre class="snippet unnumbered"><div class="codeHeader">&nbsp;<a class="far fa-copy copyBtn" data-clipboard-text="import 'games-of-chance.rsh';" href="#"></a></div><ol class="snippet"><li value="1"><span style="color: #CF222E">import</span><span style="color: #24292F"> </span><span style="color: #0A3069">'games-of-chance.rsh'</span><span style="color: #24292F">;</span></li></ol></pre>
<p>
  <i id="p_13" class="pid"></i>When a module, <code>X</code>, contains a <span class="term" id="term_local%20import">local import</span>,
  written <span class="snip"><span style="color: #CF222E">import</span><span style="color: #24292F"> </span><span style="color: #0A3069">"LIB.rsh"</span><span style="color: #24292F">;</span></span>,
  then the path <code>LIB.rsh</code> must resolve to another Reach source file.
  The exports from the module defined by <code>LIB.rsh</code> are included in the set of bound identifiers in <code>X</code>.<a href="#p_13" class="pid">13</a>
</p>
<p><span class="ref" id="rsh_from" data-scope="rsh" data-symbol="from"></span></p>
<pre class="snippet unnumbered"><div class="codeHeader">&nbsp;<a class="far fa-copy copyBtn" data-clipboard-text="import {flipCoin, rollDice as d6} from 'games-of-chance.rsh';" href="#"></a></div><ol class="snippet"><li value="1"><span style="color: #CF222E">import</span><span style="color: #24292F"> {flipCoin, rollDice </span><span style="color: #CF222E">as</span><span style="color: #24292F"> d6} </span><span style="color: #CF222E">from</span><span style="color: #24292F"> </span><span style="color: #0A3069">'games-of-chance.rsh'</span><span style="color: #24292F">;</span></li></ol></pre>
<p><i id="p_14" class="pid"></i>Import statements may limit or rename the imported identifiers.<a href="#p_14" class="pid">14</a></p>
<pre class="snippet unnumbered"><div class="codeHeader">&nbsp;<a class="far fa-copy copyBtn" data-clipboard-text="import * as gamesOfChance from 'games-of-chance.rsh';" href="#"></a></div><ol class="snippet"><li value="1"><span style="color: #CF222E">import</span><span style="color: #24292F"> </span><span style="color: #0550AE">*</span><span style="color: #24292F"> </span><span style="color: #CF222E">as</span><span style="color: #24292F"> gamesOfChance </span><span style="color: #CF222E">from</span><span style="color: #24292F"> </span><span style="color: #0A3069">'games-of-chance.rsh'</span><span style="color: #24292F">;</span></li></ol></pre>
<p>
  <i id="p_15" class="pid"></i>Imports may instead bind the entire module to a single identifier,
  which is an object with fields corresponding to that module's exports.<a href="#p_15" class="pid">15</a>
</p>
<p><i id="p_16" class="pid"></i>Import cycles are invalid.<a href="#p_16" class="pid">16</a></p>
<p><i id="p_17" class="pid"></i>The path given to an import may <strong>not</strong> include <code>..</code> to specify files outside the current directory <strong>nor</strong> may it be an absolute path.<a href="#p_17" class="pid">17</a></p>
<p><i id="p_18" class="pid"></i>It <strong>must</strong> be a relative path, which is resolved relative to the parent directory of the source file in which they appear.<a href="#p_18" class="pid">18</a></p>
<h4 id="ref-programs-import-package" class="refHeader">Package imports<a aria-hidden="true" tabindex="-1" href="#ref-programs-import-package"><span class="icon icon-link"></span></a></h4>
<pre class="snippet numbered"><div class="codeHeader">&nbsp;<a class="far fa-copy copyBtn" data-clipboard-text="import * as func from
  '@reach-sh/reach-example-package';
import * as func from
  '@reach-sh/reach-example-package:src/func.rsh';
import * as func from
  '@github.com:reach-sh/reach-example-package#main:src/func.rsh';" href="#"></a></div><ol class="snippet"><li value="1"><span style="color: #CF222E">import</span><span style="color: #24292F"> </span><span style="color: #0550AE">*</span><span style="color: #24292F"> </span><span style="color: #CF222E">as</span><span style="color: #24292F"> func </span><span style="color: #CF222E">from</span></li><li value="2"><span style="color: #24292F">  </span><span style="color: #0A3069">'@reach-sh/reach-example-package'</span><span style="color: #24292F">;</span></li><li value="3"><span style="color: #CF222E">import</span><span style="color: #24292F"> </span><span style="color: #0550AE">*</span><span style="color: #24292F"> </span><span style="color: #CF222E">as</span><span style="color: #24292F"> func </span><span style="color: #CF222E">from</span></li><li value="4"><span style="color: #24292F">  </span><span style="color: #0A3069">'@reach-sh/reach-example-package:src/func.rsh'</span><span style="color: #24292F">;</span></li><li value="5"><span style="color: #CF222E">import</span><span style="color: #24292F"> </span><span style="color: #0550AE">*</span><span style="color: #24292F"> </span><span style="color: #CF222E">as</span><span style="color: #24292F"> func </span><span style="color: #CF222E">from</span></li><li value="6"><span style="color: #24292F">  </span><span style="color: #0A3069">'@github.com:reach-sh/reach-example-package#main:src/func.rsh'</span><span style="color: #24292F">;</span></li></ol></pre>
<p>
  <i id="p_19" class="pid"></i><span class="term" id="term_Package%20imports">Package imports</span> obey the same rules as local imports but
  support an extended path syntax which allows Reach programmers to seamlessly
  plug into third-party libraries hosted on the internet.<a href="#p_19" class="pid">19</a>
</p>
<p><i id="p_20" class="pid"></i>All package imports begin with the <code>@</code> character.<a href="#p_20" class="pid">20</a></p>
<p><i id="p_21" class="pid"></i>Package import paths are comprised of the following components:<a href="#p_21" class="pid">21</a></p>
<ul>
  <li><strong>(Optional): The <code>git</code> server where the package is hosted.</strong></li>
</ul>
<p><i id="p_22" class="pid"></i>This component must be followed by a <code>:</code> character.<a href="#p_22" class="pid">22</a></p>
<p><i id="p_23" class="pid"></i>This component defaults to <a href="https://github.com">GitHub</a> (i.e. <code>github.com</code>) if no site is specified.<a href="#p_23" class="pid">23</a></p>
<p><i id="p_24" class="pid"></i>Examples: <code>github.com:</code>, <code>bitbucket.org:</code>.<a href="#p_24" class="pid">24</a></p>
<ul>
  <li><strong>The account registered with the host site.</strong></li>
</ul>
<p><i id="p_25" class="pid"></i>This component must be followed by a <code>/</code> character.<a href="#p_25" class="pid">25</a></p>
<p><i id="p_26" class="pid"></i>Examples: <code>reach-sh/</code>, <code>jeapostrophe/</code>.<a href="#p_26" class="pid">26</a></p>
<ul>
  <li><strong>A repository associated with the account.</strong></li>
</ul>
<p><i id="p_27" class="pid"></i>Examples: <code>reach-example-package</code>, <code>nfts</code>.<a href="#p_27" class="pid">27</a></p>
<ul>
  <li><strong>(Optional): A <code>git ref</code> or <code>git commit</code> used to represent the
package version.</strong></li>
</ul>
<p>
  <i id="p_28" class="pid"></i>If no <code>ref</code> is specified, Reach first tries to find the requested module
  on the repository's <code>master</code> branch, and if that fails then on the <code>main</code>
  branch once more.<a href="#p_28" class="pid">28</a>
</p>
<div class="note">
  <p>
    <i id="p_29" class="pid"></i><code>git refs</code> are discussed in further detail
    <a href="https://git-scm.com/docs/gitglossary#Documentation/gitglossary.txt-aiddefrefaref">here</a>.<a href="#p_29" class="pid">29</a>
  </p>
</div>
<p><strong>It is highly advisable that package authors use <code>git tags</code> to denote
version "releases", e.g. <code>v0.2.1</code>, and that consuming code target the
desired <code>git tag</code> rather than a branch name.</strong></p>
<div class="note">
  <p>
    <i id="p_30" class="pid"></i>Read
    <a href="https://git-scm.com/book/en/v2/Git-Basics-Tagging">this guide</a>
    to learn more about how <code>git tags</code> work.<a href="#p_30" class="pid">30</a>
  </p>
</div>
<p><i id="p_31" class="pid"></i>This component must be preceded by a <code>#</code> character.<a href="#p_31" class="pid">31</a></p>
<p><i id="p_32" class="pid"></i>Example: <code>#v3.0.6</code>.<a href="#p_32" class="pid">32</a></p>
<ul>
  <li><strong>(Optional): The directory in which the module may be found.</strong></li>
</ul>
<p>
  <i id="p_33" class="pid"></i>This component must be preceded by a <code>:</code> character and must end with
  a <code>/</code>.<a href="#p_33" class="pid">33</a>
</p>
<p><i id="p_34" class="pid"></i>Example: <code>:src/lib/</code>.<a href="#p_34" class="pid">34</a></p>
<ul>
  <li><strong>(Optional): The filename of the requested module.</strong></li>
</ul>
<p><i id="p_35" class="pid"></i>Defaults to <code>index.rsh</code>.<a href="#p_35" class="pid">35</a></p>
<p>
  <i id="p_36" class="pid"></i>If the module exists within a subdirectory it must be preceded by a <code>/</code>
  character.<a href="#p_36" class="pid">36</a>
</p>
<p><i id="p_37" class="pid"></i>Example: <code>@reach-sh/example#v1.01:parent/child/pkg.rsh</code>.<a href="#p_37" class="pid">37</a></p>
<p>
  <i id="p_38" class="pid"></i>However, if the module is stored in the root of the repository, it must instead
  be preceded by a <code>:</code> character.<a href="#p_38" class="pid">38</a>
</p>
<p><i id="p_39" class="pid"></i>Example: <code>@reach-sh/example#v1.02:pkg.rsh</code>.<a href="#p_39" class="pid">39</a></p>
<p>
  <i id="p_40" class="pid"></i>The following forms are all syntactically valid package import
  expressions:<a href="#p_40" class="pid">40</a>
</p>
<pre class="snippet numbered"><div class="codeHeader">&nbsp;<a class="far fa-copy copyBtn" data-clipboard-text="
@account/repo
@account/repo:
@account/repo:a/b/file.rsh
@account/repo:a/b/
@account/repo:file.rsh
@account/repo#
@account/repo#:
@account/repo#:a/b/file.rsh
@account/repo#:a/b/
@account/repo#:file.rsh
@account/repo#ref
@account/repo#ref:
@account/repo#ref:a/b/file.rsh
@account/repo#ref:a/b/
@account/repo#ref:file.rsh
@server:account/repo
@server:account/repo:
@server:account/repo:a/b/file.rsh
@server:account/repo:a/b/
@server:account/repo:file.rsh
@server:account/repo#
@server:account/repo#:
@server:account/repo#:a/b/file.rsh
@server:account/repo#:a/b/
@server:account/repo#:file.rsh
@server:account/repo#ref
@server:account/repo#ref:
@server:account/repo#ref:a/b/file.rsh
@server:account/repo#ref:a/b/
@server:account/repo#ref:file.rsh" href="#"></a></div><ol class="snippet"><li value="1"></li><li value="2">@account/repo</li><li value="3">@account/repo:</li><li value="4">@account/repo:a/b/file.rsh</li><li value="5">@account/repo:a/b/</li><li value="6">@account/repo:file.rsh</li><li value="7">@account/repo#</li><li value="8">@account/repo#:</li><li value="9">@account/repo#:a/b/file.rsh</li><li value="10">@account/repo#:a/b/</li><li value="11">@account/repo#:file.rsh</li><li value="12">@account/repo#ref</li><li value="13">@account/repo#ref:</li><li value="14">@account/repo#ref:a/b/file.rsh</li><li value="15">@account/repo#ref:a/b/</li><li value="16">@account/repo#ref:file.rsh</li><li value="17">@server:account/repo</li><li value="18">@server:account/repo:</li><li value="19">@server:account/repo:a/b/file.rsh</li><li value="20">@server:account/repo:a/b/</li><li value="21">@server:account/repo:file.rsh</li><li value="22">@server:account/repo#</li><li value="23">@server:account/repo#:</li><li value="24">@server:account/repo#:a/b/file.rsh</li><li value="25">@server:account/repo#:a/b/</li><li value="26">@server:account/repo#:file.rsh</li><li value="27">@server:account/repo#ref</li><li value="28">@server:account/repo#ref:</li><li value="29">@server:account/repo#ref:a/b/file.rsh</li><li value="30">@server:account/repo#ref:a/b/</li><li value="31">@server:account/repo#ref:file.rsh</li></ol></pre>
<hr>
<p>
  <i id="p_41" class="pid"></i>Since <code>git</code> repositories evolve and change over time, Reach takes extra
  steps in order to pin a given module import's version to the specific <code>SHA</code> hash of the specified revision at the time the package is first installed.
  These pins are stored in a lockfile, which should be included in your source control system.<a href="#p_41" class="pid">41</a>
</p>
<h2 id="ref-programs-module-exprs" class="refHeader">Expressions<a aria-hidden="true" tabindex="-1" href="#ref-programs-module-exprs"><span class="icon icon-link"></span></a></h2>
<p>
  <i id="p_42" class="pid"></i>Any expressions valid for a <a href="/rsh/compute/#ref-programs-compute-exprs">computation</a> are valid for a module.
  However, some additional expressions are allowed.<a href="#p_42" class="pid">42</a>
</p>
<h3 id="ref-programs-reachapp" class="refHeader"><code>Reach.App</code><a aria-hidden="true" tabindex="-1" href="#ref-programs-reachapp"><span class="icon icon-link"></span></a></h3>
<p><span class="ref" id="rsh_Reach" data-scope="rsh" data-symbol="Reach"></span><span class="ref" id="rsh_App" data-scope="rsh" data-symbol="App"></span></p>
<pre class="snippet numbered"><div class="codeHeader">&nbsp;<a class="far fa-copy copyBtn" data-clipboard-text="export const main = Reach.App(() => {
 const A = Participant(&quot;A&quot;, {
  displayResult: Fun(Int, Null),
 });
 deploy();

 const result = 0;
 A.only(() => { interact.displayResult(result); });

 exit();
});" href="#"></a></div><ol class="snippet"><li value="1"><span style="color: #CF222E">export</span><span style="color: #24292F"> </span><span style="color: #CF222E">const</span><span style="color: #24292F"> </span><span style="color: #0550AE">main</span><span style="color: #24292F"> </span><span style="color: #CF222E">=</span><span style="color: #24292F"> Reach.</span><span style="color: #8250DF">App</span><span style="color: #24292F">(() </span><span style="color: #CF222E">=&gt;</span><span style="color: #24292F"> {</span></li><li value="2"><span style="color: #24292F"> </span><span style="color: #CF222E">const</span><span style="color: #24292F"> </span><span style="color: #0550AE">A</span><span style="color: #24292F"> </span><span style="color: #CF222E">=</span><span style="color: #24292F"> </span><span style="color: #8250DF">Participant</span><span style="color: #24292F">(</span><span style="color: #0A3069">"A"</span><span style="color: #24292F">, {</span></li><li value="3"><span style="color: #24292F">  displayResult: </span><span style="color: #8250DF">Fun</span><span style="color: #24292F">(Int, Null),</span></li><li value="4"><span style="color: #24292F"> });</span></li><li value="5"><span style="color: #24292F"> </span><span style="color: #8250DF">deploy</span><span style="color: #24292F">();</span></li><li value="6"></li><li value="7"><span style="color: #24292F"> </span><span style="color: #CF222E">const</span><span style="color: #24292F"> </span><span style="color: #0550AE">result</span><span style="color: #24292F"> </span><span style="color: #CF222E">=</span><span style="color: #24292F"> </span><span style="color: #0550AE">0</span><span style="color: #24292F">;</span></li><li value="8"><span style="color: #24292F"> </span><span style="color: #0550AE">A</span><span style="color: #24292F">.</span><span style="color: #8250DF">only</span><span style="color: #24292F">(() </span><span style="color: #CF222E">=&gt;</span><span style="color: #24292F"> { interact.</span><span style="color: #8250DF">displayResult</span><span style="color: #24292F">(result); });</span></li><li value="9"></li><li value="10"><span style="color: #24292F"> </span><span style="color: #8250DF">exit</span><span style="color: #24292F">();</span></li><li value="11"><span style="color: #24292F">});</span></li></ol></pre>
<p>
  <i id="p_43" class="pid"></i><span class="term" id="term_Reach.App">Reach.App</span> accepts a no-argument function that specifies a DApp.
  This function is applied during compilation as an application initialization.
  It specifies the entire DApp in its body.<a href="#p_43" class="pid">43</a>
</p>
<p><i id="p_44" class="pid"></i>If the result of <span class="snip"><span style="color: #24292F">Reach.App</span></span> is eventually bound to an identifier that is exported, then that identifier may be a target given to the compiler, as discussed in <a href="/tool/usage/#ref-usage-compile">the section on usage</a>.<a href="#p_44" class="pid">44</a></p>
<h4 id="deprecated-long-form" class="refHeader">Deprecated long-form<a aria-hidden="true" tabindex="-1" href="#deprecated-long-form"><span class="icon icon-link"></span></a></h4>
<pre class="snippet numbered"><div class="codeHeader">&nbsp;<a class="far fa-copy copyBtn" data-clipboard-text="export const main =
  Reach.App({}, [Participant(&quot;A&quot;, {displayResult: Fun(Int, Null)})], (A) => {
    const result = 0;
    A.only(() => { interact.displayResult(result); })
    exit();
  });" href="#"></a></div><ol class="snippet"><li value="1"><span style="color: #CF222E">export</span><span style="color: #24292F"> </span><span style="color: #CF222E">const</span><span style="color: #24292F"> </span><span style="color: #0550AE">main</span><span style="color: #24292F"> </span><span style="color: #CF222E">=</span></li><li value="2"><span style="color: #24292F">  Reach.</span><span style="color: #8250DF">App</span><span style="color: #24292F">({}, [</span><span style="color: #8250DF">Participant</span><span style="color: #24292F">(</span><span style="color: #0A3069">"A"</span><span style="color: #24292F">, {displayResult: </span><span style="color: #8250DF">Fun</span><span style="color: #24292F">(Int, Null)})], (</span><span style="color: #953800">A</span><span style="color: #24292F">) </span><span style="color: #CF222E">=&gt;</span><span style="color: #24292F"> {</span></li><li value="3"><span style="color: #24292F">    </span><span style="color: #CF222E">const</span><span style="color: #24292F"> </span><span style="color: #0550AE">result</span><span style="color: #24292F"> </span><span style="color: #CF222E">=</span><span style="color: #24292F"> </span><span style="color: #0550AE">0</span><span style="color: #24292F">;</span></li><li value="4"><span style="color: #24292F">    </span><span style="color: #0550AE">A</span><span style="color: #24292F">.</span><span style="color: #8250DF">only</span><span style="color: #24292F">(() </span><span style="color: #CF222E">=&gt;</span><span style="color: #24292F"> { interact.</span><span style="color: #8250DF">displayResult</span><span style="color: #24292F">(result); })</span></li><li value="5"><span style="color: #24292F">    </span><span style="color: #8250DF">exit</span><span style="color: #24292F">();</span></li><li value="6"><span style="color: #24292F">  });</span></li></ol></pre>
<p>
  <i id="p_45" class="pid"></i>Previous versions of Reach only allowed a form of Reach.App which accepted three arguments:
  an <span class="snip"><span style="color: #24292F">options</span></span> object,
  an <span class="snip"><span style="color: #24292F">applicationArgs</span></span> tuple,
  and a <span class="snip"><span style="color: #24292F">program</span></span> arrow of the form <span class="snip"><span style="color: #24292F">(</span><span style="color: #953800">applicationIds</span><span style="color: #24292F">) </span><span style="color: #CF222E">=&gt;</span><span style="color: #24292F"> body</span></span>.<a href="#p_45" class="pid">45</a>
</p>
<p><i id="p_46" class="pid"></i>This form was equivalent to<a href="#p_46" class="pid">46</a></p>
<pre class="snippet numbered"><div class="codeHeader">&nbsp;<a class="far fa-copy copyBtn" data-clipboard-text="Reach.App(() => {
 setOptions(options);
 [ applicationIds ] = applicationArgs;
 deploy();
 body
});" href="#"></a></div><ol class="snippet"><li value="1"><span style="color: #24292F">Reach.</span><span style="color: #8250DF">App</span><span style="color: #24292F">(() </span><span style="color: #CF222E">=&gt;</span><span style="color: #24292F"> {</span></li><li value="2"><span style="color: #24292F"> </span><span style="color: #8250DF">setOptions</span><span style="color: #24292F">(options);</span></li><li value="3"><span style="color: #24292F"> [ applicationIds ] </span><span style="color: #CF222E">=</span><span style="color: #24292F"> applicationArgs;</span></li><li value="4"><span style="color: #24292F"> </span><span style="color: #8250DF">deploy</span><span style="color: #24292F">();</span></li><li value="5"><span style="color: #24292F"> body</span></li><li value="6"><span style="color: #24292F">});</span></li></ol></pre>
<p><i id="p_47" class="pid"></i>The current version of Reach will automatically transform these "ternary" <span class="snip"><span style="color: #24292F">Reach.App</span></span> instances into the above form.<a href="#p_47" class="pid">47</a></p>
<p><i id="p_48" class="pid"></i>Future versions of Reach will deprecate this transform and such programs will be invalid.<a href="#p_48" class="pid">48</a></p>