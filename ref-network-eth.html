<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-149147406-2"></script><script>window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-149147406-2');</script><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js"></script><script src="tooltips.js"></script><script src="reach-pre.js"></script><link rel="stylesheet" href="tooltips.css"><link rel="stylesheet" href="reach.css"><link rel="stylesheet" href="minted.css"><link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png"><link rel="manifest" href="/favicon/site.webmanifest"><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>5.5.3&nbsp;Ethereum</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Reach:<span class="mywbr"> &nbsp;</span> The Safest and Easiest DApp Programming Language</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="overview.html" class="tocviewlink" data-pltdoc="x">Overview</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="tut.html" class="tocviewlink" data-pltdoc="x">Tutorial</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="guide.html" class="tocviewlink" data-pltdoc="x">Guide</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="workshop.html" class="tocviewlink" data-pltdoc="x">Workshop</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="ref.html" class="tocviewselflink" data-pltdoc="x">Reference</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" data-pltdoc="x">Index</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>5&nbsp;</td><td><a href="ref.html" class="tocviewlink" data-pltdoc="x">Reference</a></td></tr></table><div class="tocviewsublist" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">5.1&nbsp;</td><td><a href="ref-install.html" class="tocviewlink" data-pltdoc="x">Installation</a></td></tr><tr><td align="right">5.2&nbsp;</td><td><a href="ref-usage.html" class="tocviewlink" data-pltdoc="x">Usage</a></td></tr><tr><td align="right">5.3&nbsp;</td><td><a href="ref-model.html" class="tocviewlink" data-pltdoc="x">Language Model</a></td></tr><tr><td align="right">5.4&nbsp;</td><td><a href="ref-programs.html" class="tocviewlink" data-pltdoc="x">Programs</a></td></tr><tr><td align="right">5.5&nbsp;</td><td><a href="ref-networks.html" class="tocviewselflink" data-pltdoc="x">Consensus Network Connectors</a></td></tr><tr><td align="right">5.6&nbsp;</td><td><a href="ref-backends.html" class="tocviewlink" data-pltdoc="x">Participant Backends</a></td></tr><tr><td align="right">5.7&nbsp;</td><td><a href="ref-frontends.html" class="tocviewlink" data-pltdoc="x">Frontend Support</a></td></tr><tr><td align="right">5.8&nbsp;</td><td><a href="ref-error-codes.html" class="tocviewlink" data-pltdoc="x">Error Codes</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_2&quot;);">&#9660;</a></td><td>5.5&nbsp;</td><td><a href="ref-networks.html" class="tocviewlink" data-pltdoc="x">Consensus Network Connectors</a></td></tr></table><div class="tocviewsublistbottom" style="display: block;" id="tocview_2"><table cellspacing="0" cellpadding="0"><tr><td align="right">5.5.1&nbsp;</td><td><a href="ref-network-algo.html" class="tocviewlink" data-pltdoc="x">Algorand</a></td></tr><tr><td align="right">5.5.2&nbsp;</td><td><a href="ref-network-cfx.html" class="tocviewlink" data-pltdoc="x">Conflux</a></td></tr><tr><td align="right">5.5.3&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Ethereum</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><a href="#%28env._.E.T.H_.N.O.D.E_.U.R.I%29" class="tocsublink" data-pltdoc="x"><span class="stt">ETH_<span class="mywbr"> &nbsp;</span>NODE_<span class="mywbr"> &nbsp;</span>URI</span></a></td></tr><tr><td><a href="#%28env._.E.T.H_.N.O.D.E_.N.E.T.W.O.R.K%29" class="tocsublink" data-pltdoc="x"><span class="stt">ETH_<span class="mywbr"> &nbsp;</span>NODE_<span class="mywbr"> &nbsp;</span>NETWORK</span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search docs..." title="Enter a search string to search the Reach documentation" onkeypress="return reach_DoSearch(event, this);"></form>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="ref-network-cfx.html" title="backward to &quot;5.5.2 Conflux&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="ref-networks.html" title="up to &quot;5.5 Consensus Network Connectors&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="ref-backends.html" title="forward to &quot;5.6 Participant Backends&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h5>5.5.3<tt>&nbsp;</tt><a name="(part._ref-network-eth)"></a>Ethereum</h5><p>The <a href="https://ethereum.org/">Ethereum</a> Reach <a href="ref-model.html#%28tech._connector%29" class="techoutside" data-pltdoc="x"><span class="techinside">connector</span></a> generates a <a href="ref-model.html#%28tech._contract%29" class="techoutside" data-pltdoc="x"><span class="techinside">contract</span></a> that
manages one instance of the <a href="ref-model.html#%28tech._dapp%29" class="techoutside" data-pltdoc="x"><span class="techinside">DApp</span></a>&rsquo;s execution.
It is guaranteed to
use exactly one word of on-chain state, while each piece of <a href="ref-model.html#%28tech._consensus._state%29" class="techoutside" data-pltdoc="x"><span class="techinside">consensus state</span></a> appears as a transaction argument.</p><p>Ethereum uses the Keccak256 algorithm to perform <a href="ref-model.html#%28tech._digest%29" class="techoutside" data-pltdoc="x"><span class="techinside">digest</span></a>s.
Its <a href="ref-programs-compute.html#%28tech._bit._width%29" class="techoutside" data-pltdoc="x"><span class="techinside">bit width</span></a> is 256-bits.</p><p><a href="ref-model.html#%28tech._non._network._token%29" class="techoutside" data-pltdoc="x"><span class="techinside">Non-network tokens</span></a> are compiled to <a href="https://ethereum.org/en/developers/docs/standards/tokens/erc-20/">ERC-20</a> fungible tokens.
Specifically, the <code class="highlight"><a href="ref-programs-compute.html#%28reach._%28%28.Token%29%29%29" class="nb" data-pltdoc="x">Token</a></code> type refers to the address of the ERC-20 contract.
<a href="ref-programs-consensus.html#%28tech._token._minting%29" class="techoutside" data-pltdoc="x"><span class="techinside">Token minting</span></a> launches a fresh ERC-20 contract based on the OpenZeppelin ERC-20 implementation, which stores additional metadata and allows the creator to burn tokens and destroy the token if there is no supply (i.e. it has all been burned).</p><p><a href="ref-model.html#%28tech._view%29" class="techoutside" data-pltdoc="x"><span class="techinside">Views</span></a> are compiled to <span class="RktInBG"><span class="hspace"></span><span class="RktIn">view</span><span class="hspace"></span></span> functions.
A <a href="ref-model.html#%28tech._view%29" class="techoutside" data-pltdoc="x"><span class="techinside">view</span></a> named <span class="RktInBG"><span class="hspace"></span><span class="RktIn">X.Y</span><span class="hspace"></span></span> will be named <span class="RktInBG"><span class="hspace"></span><span class="RktIn">X_Y</span><span class="hspace"></span></span>.
A <a href="ref-model.html#%28tech._view%29" class="techoutside" data-pltdoc="x"><span class="techinside">view</span></a> named <span class="RktInBG"><span class="hspace"></span><span class="RktIn">X</span><span class="hspace"></span></span> will be named <span class="RktInBG"><span class="hspace"></span><span class="RktIn">X</span><span class="hspace"></span></span>.
<a href="ref-model.html#%28tech._view%29" class="techoutside" data-pltdoc="x"><span class="techinside">Views</span></a> expand the on-chain state to include the free variables of all values bound to a <a href="ref-model.html#%28tech._view%29" class="techoutside" data-pltdoc="x"><span class="techinside">view</span></a>.</p><p>In Ethereum, <a href="ref-model.html#%28tech._network._time%29" class="techoutside" data-pltdoc="x"><span class="techinside">network time</span></a> corresponds to block numbers and <a href="ref-model.html#%28tech._network._second%29" class="techoutside" data-pltdoc="x"><span class="techinside">network seconds</span></a> correspond to the Unix timestamp of the block.</p><p>The connector provides a binding named <code class="highlight"><a href="ref-programs-appinit.html#%28reach._%28%28.E.T.H%29%29%29" class="nb" data-pltdoc="x">ETH</a></code> to
<a href="ref-model.html#%28tech._backend%29" class="techoutside" data-pltdoc="x"><span class="techinside">backends</span></a>.</p><p>During compilation, the connector produces one intermediate output: <span class="stt">"input.export.sol"</span>, containing
the Solidity code implementing the <a href="ref-model.html#%28tech._contract%29" class="techoutside" data-pltdoc="x"><span class="techinside">contract</span></a>.</p><p>A few details of Ethereum leak through to Reach.
The node that a given <a href="ref-model.html#%28tech._participant%29" class="techoutside" data-pltdoc="x"><span class="techinside">participant</span></a> is connected to does not instantly know that its blocks are correct and may revert past transactions after it reaches consensus with the rest of the network.
This means that Reach applications must not make externally observable effects until after such consensus is reached.</p><p><a href="ref-model.html#%28tech._backend%29" class="techoutside" data-pltdoc="x"><span class="techinside">Backends</span></a> must respect the following environment variables:</p><ul><li><p><a name="(env._.E.T.H_.N.O.D.E_.U.R.I)"></a><a name="(idx._(gentag._388))"></a><span class="stt">ETH_NODE_URI</span> is used to contact the Ethereum node.
It defaults to <span class="RktInBG"><span class="hspace"></span><span class="RktIn">http://localhost:8545</span><span class="hspace"></span></span>.</p></li><li><p><a name="(env._.E.T.H_.N.O.D.E_.N.E.T.W.O.R.K)"></a><a name="(idx._(gentag._389))"></a><span class="stt">ETH_NODE_NETWORK</span> is used to name the Ethereum network.
It defaults to <span class="RktInBG"><span class="hspace"></span><span class="RktIn">unspecified</span><span class="hspace"></span></span>.</p></li></ul><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search docs..." title="Enter a search string to search the Reach documentation" onkeypress="return reach_DoSearch(event, this);"></form>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="ref-network-cfx.html" title="backward to &quot;5.5.2 Conflux&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="ref-networks.html" title="up to &quot;5.5 Consensus Network Connectors&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="ref-backends.html" title="forward to &quot;5.6 Participant Backends&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div><script src="reach-post.js"></script></body></html>